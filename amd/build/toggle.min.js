define(["jquery","jqueryui"],function(a){return{init:function(){var b=function(){console.log("no of sections = "+a("li.section").length);var b="";a("li.section").each(function(){b+=a(this).find(".toggle_area").hasClass("hidden")?"0":"1"}),console.log("toggle_seq = "+b);var c=a("#courseid").attr("courseid");a.ajax({url:"format/topics2/ajax/update_toggles.php",type:"POST",data:{courseid:c,toggle_seq:b},success:function(a){""!==a&&console.log("New toggle sequence: "+a)}})},c=function(){a(".toggler").on("click",function(){a(this).hasClass("toggler_closed")?(a(this).parent().find(".toggler_open").show(),a(this).hide(),a(this).parent().parent().parent().find(".toggle_area").removeClass("hidden").show()):(a(this).parent().find(".toggler_closed").show(),a(this).hide(),a(this).parent().parent().parent().find(".toggle_area").addClass("hidden").hide()),b()})},d=function(){c()};a(document).ready(function(){console.log("=================< topics2/toggle.js >================="),d()})}}});