{"version":3,"sources":["../src/toggle.js"],"names":["define","$","init","updateToggleSeq","console","log","length","toggle_seq","each","find","hasClass","courseid","attr","ajax","url","type","data","success","result","toggleSection","on","event","altKey","show","hide","removeClass","addClass","parent","toggleSectionsOpen","click","toggleSectionsClose","toggle_all","initFunctions","document","ready"],"mappings":"AAAAA,OAAM,yBAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAASC,CAAT,CAAY,CAEvC,MAAO,CACHC,IAAI,CAAE,eAAW,IAETC,CAAAA,CAAe,CAAG,UAAW,CAC7BC,OAAO,CAACC,GAAR,CAAY,oBAAsBJ,CAAC,CAAC,YAAD,CAAD,CAAgBK,MAAlD,EACA,GAAIC,CAAAA,CAAU,CAAG,EAAjB,CACAN,CAAC,CAAC,YAAD,CAAD,CAAgBO,IAAhB,CAAqB,UAAW,CAC5B,GAAKP,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,cAAb,EAA6BC,QAA7B,CAAsC,QAAtC,CAAL,CAAsD,CAClDH,CAAU,CAAGA,CAAU,CAAG,GAC7B,CAFD,IAIA,CACIA,CAAU,CAAGA,CAAU,CAAG,GAC7B,CAEA,CATL,EAUAH,OAAO,CAACC,GAAR,CAAY,gBAAkBE,CAA9B,EAGA,GAAII,CAAAA,CAAQ,CAAGV,CAAC,CAAC,WAAD,CAAD,CAAeW,IAAf,CAAoB,UAApB,CAAf,CACAX,CAAC,CAACY,IAAF,CAAO,CACHC,GAAG,CAAE,wCADF,CAEHC,IAAI,CAAE,MAFH,CAGHC,IAAI,CAAE,CAAC,SAAYL,CAAb,CAAuB,WAAcJ,CAArC,CAHH,CAIHU,OAAO,CAAE,iBAASC,CAAT,CAAiB,CACtB,GAAc,EAAX,GAAAA,CAAH,CAAkB,CACdd,OAAO,CAACC,GAAR,CAAY,wBAA0Ba,CAAtC,CACH,CACJ,CARE,CAAP,CAWH,CA9BY,CAkCTC,CAAa,CAAG,UAAW,CAAElB,CAAC,CAAC,UAAD,CAAD,CAAcmB,EAAd,CAAiB,OAAjB,CAA0B,SAASC,CAAT,CAAgB,CACvE,GAAIA,CAAK,CAACC,MAAV,CAAkB,CACdlB,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACA,GAAIJ,CAAC,CAAC,IAAD,CAAD,CAAQS,QAAR,CAAiB,gBAAjB,CAAJ,CAAwC,CACpCT,CAAC,CAAC,eAAD,CAAD,CAAmBsB,IAAnB,GACAtB,CAAC,CAAC,iBAAD,CAAD,CAAqBuB,IAArB,GACAvB,CAAC,CAAC,cAAD,CAAD,CAAkBwB,WAAlB,CAA8B,QAA9B,EAAwCF,IAAxC,EACH,CAJD,IAIO,CACHtB,CAAC,CAAC,eAAD,CAAD,CAAmBuB,IAAnB,GACAvB,CAAC,CAAC,iBAAD,CAAD,CAAqBsB,IAArB,GACAtB,CAAC,CAAC,cAAD,CAAD,CAAkByB,QAAlB,CAA2B,QAA3B,EAAqCF,IAArC,GAEAvB,CAAC,CAAC,YAAD,CAAD,CAAgBQ,IAAhB,CAAqB,cAArB,EAAqCgB,WAArC,CAAiD,QAAjD,EAA2DF,IAA3D,EACH,CACJ,CAbD,IAaO,CACH,GAAItB,CAAC,CAAC,IAAD,CAAD,CAAQS,QAAR,CAAiB,gBAAjB,CAAJ,CAAwC,CACpCT,CAAC,CAAC,IAAD,CAAD,CAAQ0B,MAAR,GAAiBlB,IAAjB,CAAsB,eAAtB,EAAuCc,IAAvC,GACAtB,CAAC,CAAC,IAAD,CAAD,CAAQuB,IAAR,GACAvB,CAAC,CAAC,IAAD,CAAD,CAAQ0B,MAAR,GAAiBA,MAAjB,GAA0BA,MAA1B,GAAmClB,IAAnC,CAAwC,cAAxC,EAAwDgB,WAAxD,CAAoE,QAApE,EAA8EF,IAA9E,EACH,CAJD,IAIO,CACHtB,CAAC,CAAC,IAAD,CAAD,CAAQ0B,MAAR,GAAiBlB,IAAjB,CAAsB,iBAAtB,EAAyCc,IAAzC,GACAtB,CAAC,CAAC,IAAD,CAAD,CAAQuB,IAAR,GACAvB,CAAC,CAAC,IAAD,CAAD,CAAQ0B,MAAR,GAAiBA,MAAjB,GAA0BA,MAA1B,GAAmClB,IAAnC,CAAwC,cAAxC,EAAwDiB,QAAxD,CAAiE,QAAjE,EAA2EF,IAA3E,EACH,CACJ,CAGDrB,CAAe,EAClB,CA5BgC,CA4B7B,CA9DS,CAkETyB,CAAkB,CAAG,UAAW,CAAE3B,CAAC,CAAC,sBAAD,CAAD,CACjCmB,EADiC,CAC9B,OAD8B,CACrB,UAAW,CACpBnB,CAAC,CAAC,iBAAD,CAAD,CAAqB4B,KAArB,GAGA1B,CAAe,EAClB,CANiC,CAM9B,CAxEK,CA4ET2B,CAAmB,CAAG,UAAW,CAAE7B,CAAC,CAAC,uBAAD,CAAD,CAClCmB,EADkC,CAC/B,OAD+B,CACtB,UAAW,CACpBnB,CAAC,CAAC,eAAD,CAAD,CAAmB4B,KAAnB,GAGA1B,CAAe,EAClB,CANkC,CAM/B,CAlFK,CAsFT4B,CAAU,CAAG,UAAW,CACxB9B,CAAC,CAAC,eAAD,CAAD,CAAmBmB,EAAnB,CAAsB,OAAtB,CAA+B,UAAW,CACtCnB,CAAC,CAAC,eAAD,CAAD,CAAmBsB,IAAnB,GACAtB,CAAC,CAAC,iBAAD,CAAD,CAAqBuB,IAArB,GACAvB,CAAC,CAAC,cAAD,CAAD,CAAkBwB,WAAlB,CAA8B,QAA9B,EAAwCF,IAAxC,GACApB,CAAe,EAClB,CALD,EAMAF,CAAC,CAAC,gBAAD,CAAD,CAAoBmB,EAApB,CAAuB,OAAvB,CAAgC,UAAW,CACvCnB,CAAC,CAAC,eAAD,CAAD,CAAmBuB,IAAnB,GACAvB,CAAC,CAAC,iBAAD,CAAD,CAAqBsB,IAArB,GACAtB,CAAC,CAAC,cAAD,CAAD,CAAkByB,QAAlB,CAA2B,QAA3B,EAAqCF,IAArC,GAEAvB,CAAC,CAAC,YAAD,CAAD,CAAgBQ,IAAhB,CAAqB,cAArB,EAAqCgB,WAArC,CAAiD,QAAjD,EAA2DF,IAA3D,GACApB,CAAe,EAClB,CAPD,CAQH,CArGY,CAwGT6B,CAAa,CAAG,UAAW,CAE3Bb,CAAa,GACbS,CAAkB,GAClBE,CAAmB,GACnBC,CAAU,EACb,CA9GY,CAiHb9B,CAAC,CAACgC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,UAAW,CACzB9B,OAAO,CAACC,GAAR,CAAY,yDAAZ,EACA2B,CAAa,EAChB,CAHD,CAIH,CAtHE,CAwHV,CA1HK,CAAN","sourcesContent":["define(['jquery', 'jqueryui'], function($) {\n    /*eslint no-console: [\"error\", { allow: [\"log\", \"warn\", \"error\"] }] */\n    return {\n        init: function() {\n// ---------------------------------------------------------------------------------------------------------------------\n            var updateToggleSeq = function() {\n                console.log(\"no of sections = \" + $('li.section').length);\n                var toggle_seq = '';\n                $(\"li.section\").each(function() {\n                    if ( $(this).find('.toggle_area').hasClass('hidden')) {\n                        toggle_seq = toggle_seq + '0';\n                    } else\n//                    if ( $(this).find('.toggle_area').hasClass('showing')) {\n                    {\n                        toggle_seq = toggle_seq + '1';\n                    }\n\n                    });\n                console.log('toggle_seq = ' + toggle_seq);\n\n                // Now write the sequence for this course into the user preference\n                var courseid = $('#courseid').attr('courseid');\n                $.ajax({\n                    url: \"format/topics2/ajax/update_toggles.php\",\n                    type: \"POST\",\n                    data: {'courseid': courseid, 'toggle_seq': toggle_seq},\n                    success: function(result) {\n                        if(result !== '') {\n                            console.log('New toggle sequence: ' + result);\n                        }\n                    }\n                });\n\n            };\n\n// ---------------------------------------------------------------------------------------------------------------------\n            // toggle a section content\n            var toggleSection = function() { $(\".toggler\").on('click', function(event) {\n                if (event.altKey) {\n                    console.log('ALT pressed...!');\n                    if ($(this).hasClass('toggler_closed')) {\n                        $('.toggler_open').show();\n                        $('.toggler_closed').hide();\n                        $('.toggle_area').removeClass('hidden').show();\n                    } else {\n                        $('.toggler_open').hide();\n                        $('.toggler_closed').show();\n                        $('.toggle_area').addClass('hidden').hide();\n                        // Do not hide section 0\n                        $('#section-0').find('.sectionbody').removeClass('hidden').show();\n                    }\n                } else {\n                    if ($(this).hasClass('toggler_closed')) {\n                        $(this).parent().find('.toggler_open').show();\n                        $(this).hide();\n                        $(this).parent().parent().parent().find('.toggle_area').removeClass('hidden').show();\n                    } else {\n                        $(this).parent().find('.toggler_closed').show();\n                        $(this).hide();\n                        $(this).parent().parent().parent().find('.toggle_area').addClass('hidden').hide();\n                    }\n                }\n\n                // Now get the toggler status of each section\n                updateToggleSeq();\n            });};\n\n// ---------------------------------------------------------------------------------------------------------------------\n            // toggle a section content\n            var toggleSectionsOpen = function() { $(\"#btn_toggle_all_open\")\n                .on('click', function() {\n                    $('.toggler_closed').click();\n\n                    // Now get the toggler status of each section\n                    updateToggleSeq();\n                });};\n\n// ---------------------------------------------------------------------------------------------------------------------\n            // toggle a section content\n            var toggleSectionsClose = function() { $(\"#btn_toggle_all_close\")\n                .on('click', function() {\n                    $('.toggler_open').click();\n\n                    // Now get the toggler status of each section\n                    updateToggleSeq();\n                });};\n\n\n// ---------------------------------------------------------------------------------------------------------------------\n            var toggle_all = function() {\n                $('#btn_open_all').on('click', function() {\n                    $('.toggler_open').show();\n                    $('.toggler_closed').hide();\n                    $('.toggle_area').removeClass('hidden').show();\n                    updateToggleSeq();\n                });\n                $('#btn_close_all').on('click', function() {\n                    $('.toggler_open').hide();\n                    $('.toggler_closed').show();\n                    $('.toggle_area').addClass('hidden').hide();\n                    // Do not hide section 0\n                    $('#section-0').find('.sectionbody').removeClass('hidden').show();\n                    updateToggleSeq();\n                });\n            };\n\n// ---------------------------------------------------------------------------------------------------------------------\n            var initFunctions = function() {\n                // Load all required functions above\n                toggleSection();\n                toggleSectionsOpen();\n                toggleSectionsClose();\n                toggle_all();\n            };\n\n// ---------------------------------------------------------------------------------------------------------------------\n            $(document).ready(function() {\n                console.log('=================< topics2/toggle.js >=================');\n                initFunctions();\n            });\n        }\n    };\n});\n"],"file":"toggle.min.js"}